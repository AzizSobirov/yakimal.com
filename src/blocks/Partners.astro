---
import { Section, H2, H3, P, Image, Icon, Button } from "ui";
import TheMarquee from "@/components/TheMarquee.astro";
---

<!-- Partners -->
<Section name="partners">
  <Fragment slot="footer">
    <H2 class="partners__title">Наши партнеры</H2>
    <TheMarquee class="partners__marquee">
      {
        Array.from({ length: 8 }).map((_, index) => (
          <Image src={`partners/${index + 1}.png`} />
        ))
      }
    </TheMarquee>
  </Fragment>
</Section>

<style lang="scss" is:global>
  @use "scss/helpers" as *;

  .partners {
    position: relative;
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: rem(50);

    @include media("sm") {
      gap: rem(30);
    }

    &__title {
      position: relative;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: rem(20);
      white-space: nowrap;

      @include media("xl") {
        font-size: rem(24);
      }
      @include media("sm") {
        font-size: rem(20);
        gap: rem(15);
      }

      &::before,
      &::after {
        content: "";
        display: block;
        width: rem(194);
        height: rem(17);
        background: url('data:image/svg+xml,<svg width="198" height="11" viewBox="0 0 198 11" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M2 6.71429L3.2436 5.49999C8.08452 0.773146 15.8129 0.773152 20.6538 5.5V5.5C25.4948 10.2268 33.2232 10.2268 38.0641 5.5V5.5C42.905 0.773152 50.6334 0.773152 55.4744 5.5V5.5C60.3153 10.2268 68.0437 10.2268 72.8846 5.5V5.5C77.7255 0.773152 85.454 0.773152 90.2949 5.5V5.5C95.1358 10.2268 102.864 10.2268 107.705 5.5V5.5C112.546 0.773152 120.274 0.773152 125.115 5.5V5.5C129.956 10.2268 137.685 10.2268 142.526 5.5V5.5C147.367 0.773152 155.095 0.773152 159.936 5.5V5.5C164.777 10.2268 172.505 10.2268 177.346 5.5V5.5C182.187 0.773152 189.915 0.773147 194.756 5.5L196 6.71429" stroke="%23C5594D" stroke-width="3" /></svg>')
          center/contain no-repeat;

        @include media("xl") {
          width: rem(160);
          height: rem(15);
        }
        @include media("sm") {
          width: rem(100);
          height: rem(8);
        }
      }
    }

    &__marquee {
      width: 100%;

      .marquee-wrapper {
        gap: rem(64);

        @include media("sm") {
          gap: rem(30);
        }
      }

      img {
        max-height: rem(90);
        max-width: rem(200);
        object-fit: contain;

        @include media("xl") {
          max-height: rem(60);
          max-width: rem(150);
        }
        @include media("sm") {
          max-height: rem(50);
          max-width: rem(140);
        }
      }
    }
  }
</style>
